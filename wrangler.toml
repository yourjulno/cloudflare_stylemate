name = "cloudflarestylemate"
main = "src/worker.js"
compatibility_date = "2026-01-19"

[vars]
ALLOWED_ORIGIN = "https://aistylemate.ru"
DEFAULT_MODEL = "gpt-4.1-mini"
MAX_FILE_MB = "4"
OUTFIT_SIZE = "1024x1024"
IMAGE_MODEL = "gpt-image-1"
REGRU_STORE_URL = "https://aistylemate.ru/api/outfits_store.php"
# REGRU_STORE_SECRET лучше хранить как secret в Cloudflare, не в vars

[durable_objects]
bindings = [
  { name = "OUTFIT_JOBS", class_name = "OUTFIT_JOBS" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["OUTFIT_JOBS"]
